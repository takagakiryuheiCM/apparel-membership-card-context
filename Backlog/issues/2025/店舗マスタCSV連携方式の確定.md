# 店舗マスタCSV連携方式の確定

## 基本情報
- 課題キー: APP_MINI-2
- ステータス: 処理中
- 優先度: 中
- 担当者: CM_高垣龍平
- 作成日時: 2025/11/12 14:00:00
- 更新日時: 2025/12/05 11:00:00
- [Backlog Issue Link](https://example.backlog.jp/view/APP_MINI-2)

## 詳細
@FM_田中様 @FM_佐藤様
店舗マスタデータの連携方式について確認させていただきたく存じます。

## 背景
LINEミニアプリで店舗一覧・店舗詳細を表示するため、FM様の店舗マスタデータを取り込む必要があります。
連携方式・タイミング・フォーマットについてご相談させてください。

## 検討事項

### 1. 連携方式
- **案A**: API連携（リアルタイム）
- **案B**: CSV連携（バッチ）

### 2. 連携タイミング
- リアルタイム
- 日次バッチ
- 週次バッチ

### 3. CSVフォーマット
- 必要項目の定義

### 4. 更新方式
- 差分更新
- 全件洗い替え

## コメント

### コメント 1
- **投稿者**: FM_佐藤様
- **日時**: 2025/11/15 16:00:00

@CM_高垣龍平

ご連絡ありがとうございます。
弊社の既存システムとの親和性を考慮し、**CSV連携方式**を希望いたします。

現在、他システムへの連携もCSVで行っており、運用が統一できるためです。

連携タイミングは**日次バッチ**でお願いいたします。
具体的には深夜3時頃を想定しています。

---

### コメント 2
- **投稿者**: CM_高垣龍平
- **日時**: 2025/11/19 10:00:00

@FM_佐藤様
ご回答ありがとうございます！

CSV連携・日次バッチで承知いたしました。
深夜3時での取り込みで進めます。

追加でご相談ですが、緊急時（店舗情報の即時更新が必要な場合）に備えて、
**S3へのアップロードをトリガーとした即時取り込み**も対応可能にしたいと考えております。

こちらは特に追加のご対応は不要で、弊社側の実装で対応いたします。
問題ないでしょうか？

---

### コメント 3
- **投稿者**: FM_佐藤様
- **日時**: 2025/11/22 14:30:00

@CM_高垣龍平

即時取り込み対応、ありがとうございます。
緊急時に使えると助かりますので、ぜひお願いいたします。

CSVフォーマットについて、弊社で使用している項目一覧を添付いたします。
必要な項目をピックアップしていただけますでしょうか。

[添付ファイル: 店舗マスタ項目一覧_全量.xlsx]

---

### コメント 4
- **投稿者**: CM_高垣龍平
- **日時**: 2025/11/26 15:00:00

@FM_佐藤様
資料ありがとうございます！

必要項目をピックアップし、CSVフォーマットを定義いたしました。
以下のBacklogドキュメントにまとめましたので、ご確認をお願いいたします。

📄 [店舗マスター項目](https://example.backlog.jp/document/APP_MINI/store_master)

また、更新方式について確認させてください。
- **差分更新**: 変更のあった店舗のみ更新
- **全件洗い替え**: 毎回全店舗データを送信

運用のシンプルさを考慮し、**全件洗い替え方式**を推奨いたしますが、いかがでしょうか？

---

### コメント 5
- **投稿者**: FM_佐藤様
- **日時**: 2025/12/01 11:00:00

@CM_高垣龍平

CSVフォーマット確認いたしました。問題ございません。

全件洗い替え方式で進めてください。
差分管理は弊社側の運用負荷が高いため、全件洗い替えの方が助かります。

---

### コメント 6
- **投稿者**: CM_高垣龍平
- **日時**: 2025/12/05 11:00:00

@FM_佐藤様
ご確認ありがとうございます！

全件洗い替え方式で確定とさせていただきます。

最後に、**テスト用のサンプルCSVファイル**をご提供いただけますでしょうか？
取り込み処理の実装・テストに使用したいためです。

店舗数は5〜10店舗程度のダミーデータで構いません。

**ご対応お待ちしております🙏**
